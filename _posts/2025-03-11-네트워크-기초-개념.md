---
title: 네트워크 기초 개념
date: 2025-03-11 23:48:21 +0900
categories: [NetWork]
tags: [Network]     # TAG 이름은 항상 소문자여야 합니다.
author: kunhee
---

## 1. IP 주소란?

IP 주소는 네트워크에서 각 장치를 식별하는 고유한 주소이다. 인터넷과 같은 네트워크에서 컴퓨터, 스마트폰, 서버 등이 서로 통신하려면 IP 주소가 필요하다.

### 📌 IP 주소의 종류

IP 주소는 크게 두 가지로 나뉜다.

- **IPv4** : 32비트 주소 체계 (예: `192.168.1.1`)
- **IPv6** : 128비트 주소 체계 (예: `2001:db8::ff00:42:8329`)

현재까지는 **IPv4가 주로 사용**되지만, IP 부족 문제로 IPv6로 점점 전환되는 중이다.

---

## 2. IP 주소의 특징

IP 주소는 **네트워크 부분**과 **호스트 부분**으로 구성된다.

### ✅ 같은 네트워크에서의 통신

- 같은 네트워크(같은 브로드캐스트 도메인)에서 통신하려면, **네트워크 주소가 같고, 호스트 주소는 달라야 한다.**
- 만약 호스트 주소가 중복되면 **IP 충돌**이 발생하여 정상적인 통신이 불가능하다.

### ✅ 다른 네트워크 간의 통신

- 네트워크 주소가 다르면 기본적으로 직접 통신할 수 없다.
- 하지만 **라우터(Router)나 게이트웨이(Gateway) 같은 네트워크 장비를 사용하면 다른 네트워크와도 통신할 수 있다.**

### ✅ 브로드캐스트 도메인(Broadcast Domain)

- **같은 네트워크 대역 안에서 직접 통신할 수 있는 범위**를 의미한다.
- **브로드캐스트 패킷(모든 호스트에게 보내는 패킷)이 도달할 수 있는 영역**이기도 하다.
- 네트워크를 나누면 **브로드캐스트 도메인이 분리**되어 네트워크 부하를 줄일 수 있다.

### ✅ 호스트 IP의 유일성

- 같은 네트워크에서 **각 호스트(컴퓨터, 서버, 장비 등)는 고유한 IP 주소를 가져야 한다.**
- IP 주소는 **주민등록번호처럼 중복될 수 없는 유일한 식별자** 역할을 한다.

---

## 3. 호스트란?

호스트는 **네트워크에 연결되어 다른 장치들과 데이터를 주고받을 수 있는 모든 장치**를 의미한다.

- 각 호스트는 네트워크 내에서 **고유한 IP 주소**를 가진다.
- 예: 개인용 컴퓨터, 서버, 스마트폰, 프린터, IoT 기기 등

---

## 4. 서브네팅(Subnetting)이란?

**서브네팅(Subnetting)** 은 하나의 큰 네트워크를 **여러 개의 작은 네트워크(서브넷, Subnet)로 나누는 과정**을 의미한다.

### 🔹 서브네팅을 하는 이유

- **네트워크 효율성 향상** :
  - 큰 네트워크는 브로드캐스트 트래픽이 많아 성능이 저하될 수 있다.
  - 서브네팅을 통해 네트워크를 작은 단위로 나누면 브로드캐스트 트래픽을 줄여 효율성을 높일 수 있다.
- **보안 강화** :
  - 서브넷 간에 방화벽을 설치하여 특정 서브넷에 대한 접근을 제한할 수 있다.
- **네트워크 관리 용이성** :
  - 서브넷 단위로 네트워크를 관리하면 전체 네트워크를 관리하는 것보다 효율적이다.
  - 각 서브넷에 대한 **IP 주소 할당, 보안 정책 설정** 등을 독립적으로 수행할 수 있다.
- **IP 주소 낭비 방지** :
  - 기존의 클래스 기반 주소 체계에서는 사용하지 않는 IP 대역이 발생할 수 있다.
  - 서브네팅을 통해 필요한 만큼만 IP를 할당하여 낭비를 줄일 수 있다.

---

## 5. 서브넷 마스크란?

서브넷 마스크(Subnet Mask)는 **IP 주소에서 네트워크 부분과 호스트 부분을 구분하는 역할**을 한다.

### 🔹 서브넷 마스크의 개념

- 서브넷 마스크는 **255.255.255.0** 같은 형식으로 표현된다.
- **255가 있는 부분**이 네트워크 주소를 나타내고,
- **0이 있는 부분**이 호스트 주소를 나타낸다.
- 예를 들어, IP 주소 `192.168.1.1`과 서브넷 마스크 `255.255.255.0`이 있다면,
  - **네트워크 주소**: `192.168.1.0`
  - **호스트 주소**: `1` (즉, 1~254까지의 값 사용 가능)
- 서브넷 마스크 확인하는 명령어:

    ```
    networksetup -getinfo Wi-Fi
    
    // 결과
    DHCP Configuration
    IP address: 192.168.0.3 // 아이피 주소 (사설 아이피)
    Subnet mask: 255.255.255.0 // 서브넷 마스크
    Router: 192.168.0.1 라우터 // 현재 맥북이 사용하고 있는 네트워크 게이트웨이 IP주소
    Client ID: 
    IPv6: Automatic
    IPv6 IP address: none
    IPv6 Router: none
    Wi-Fi ID: 84:94:37:e8:a8:63 // 현재 맥북이 연결되어 있는 Wi-Fi 공유기의 MAC 주소
    ```


### 🔹 CIDR 표기법

서브넷 마스크는 **CIDR(Classless Inter-Domain Routing) 표기법**으로도 표현할 수 있다.

- `255.255.255.0` → `/24`
- `255.255.0.0` → `/16`
- `255.0.0.0` → `/8`

예를 들어, `192.168.1.0/24`는 **서브넷 마스크가 `255.255.255.0`인 네트워크**를 의미한다.

---

## 6. ARP (Address Resolution Protocol)란?

ARP(Address Resolution Protocol, 주소 결정 프로토콜)는 **IP 주소를 MAC 주소(물리적 주소)로 변환하는 프로토콜**이다.

### 🔹 ARP의 필요성

- IP 주소는 네트워크에서 논리적인 주소일 뿐이고, 실제 데이터 전송에는 **MAC 주소(물리적 주소)** 가 필요하다.
- 따라서 **IP 주소를 기반으로 MAC 주소를 찾는 과정**이 필요하며, 이를 ARP가 수행한다.

### 🔹 ARP 동작 과정

1. 호스트 A가 호스트 B (`192.168.1.20`)에게 데이터를 보내려고 한다.
2. A는 `192.168.1.20`의 MAC 주소를 모르므로, **ARP 요청(브로드캐스트 패킷)**을 네트워크에 보낸다.

    ```
    "192.168.1.20을 사용 중인 장치는 MAC 주소를 알려줘!"
    ```

3. 네트워크 내 모든 장치가 이 요청을 받지만, `192.168.1.20`을 사용하는 B만 응답을 보낸다.

    ```
    "나는 192.168.1.20이야! 내 MAC 주소는 AA:BB:CC:DD:EE:FF야."
    ```

4. A는 받은 MAC 주소를 **ARP 테이블**에 저장하고, 이후에는 ARP 요청 없이 바로 데이터를 전송할 수 있다

### 🔹 ARP 캐시 테이블

- 네트워크 부하를 줄이기 위해 **조회한 MAC 주소를 일정 시간 동안 저장**한다.
- ARP 테이블을 확인하는 명령어:

    ```
    arp -a
    
    // 결과
    ? (192.168.0.1) at 58:86:94:9b:70:24 on en0 ifscope [ethernet]
    ? (192.168.0.2) at da:45:45:7d:85:e7 on en0 ifscope [ethernet]
    ? (192.168.0.10) at 9e:74:c2:e4:cc:35 on en0 ifscope [ethernet]
    mdns.mcast.net (224.0.0.251) at 1:0:5e:0:0:fb on en0 ifscope permanent [ethernet]
    ```


### 🔹 ARP의 종류

1. **일반 ARP** : 목적지 IP 주소에 대한 MAC 주소를 조회하는 기본적인 ARP.
2. **Gratuitous ARP** : 자신의 MAC 주소를 네트워크에 알리거나, IP 충돌을 감지하는 ARP.
3. **Proxy ARP** : 다른 네트워크에 있는 장치의 ARP 요청을 대신 응답하는 방식.

## 7. 공인 IP와 사설 IP

### ✅ 공인 IP (Public IP)

- 인터넷에 직접 연결되는 **전 세계에서 유일한 IP 주소**
- ISP(인터넷 서비스 제공업체)에서 할당해줌
- 예) `211.45.67.89`, `8.8.8.8` (구글 DNS)

### ✅ 사설 IP (Private IP)

- 내부 네트워크(회사, 가정 등)에서만 사용되는 IP
- 인터넷에서는 직접 사용 불가능 (NAT를 통해 공인 IP로 변환해야 함)
- 사설 IP 대역
  - `10.0.0.0 ~ 10.255.255.255`
  - `172.16.0.0 ~ 172.31.255.255`
  - `192.168.0.0 ~ 192.168.255.255`
- 예) `192.168.1.100`, `10.0.0.50`

---

## 8. 게이트웨이란?

게이트웨이(Gateway)는 **다른 네트워크와 통신할 때 거치는 출입구 역할**을 하는 네트워크 장비이다.

- 같은 네트워크 내에서는 직접 통신 가능
- 다른 네트워크로 데이터를 보내려면 **게이트웨이(보통 라우터)를 통해야 한다.**
- 예) `192.168.1.1` (공유기의 기본 게이트웨이)

---

## 9. NAT(Network Address Translation)

**NAT**는 **공인 IP와 사설 IP를 변환하는 기술**이다.

- 사설 IP를 가진 장비가 인터넷에 접속할 때 **공인 IP로 변환**해야 함
- 공유기(라우터)에서 NAT를 사용하여 변환 수행
- 예) 가정 내 여러 기기가 하나의 공인 IP를 사용해 인터넷에 접속

---

## 10. DNS(Domain Name System)

**DNS**는 **도메인 이름을 IP 주소로 변환하는 시스템**이다.

- 예) `www.google.com` → `142.250.190.78`
- 사람이 기억하기 쉬운 도메인 주소를 사용하게 해줌
- 대표적인 DNS 서버
  - 구글 DNS: `8.8.8.8`
  - 클라우드플레어 DNS: `1.1.1.1`
