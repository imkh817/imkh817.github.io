title: WASì—ì„œ ìŠ¤í”„ë§ì´ ì‹¤í–‰ë˜ëŠ” ê³¼ì •
date: 2025-03-06 22:23:21 +0900
categories: [Spring]
tags: [WAS]     # TAG ì´ë¦„ì€ í•­ìƒ ì†Œë¬¸ìì—¬ì•¼ í•©ë‹ˆë‹¤.
## Spring MVC ë™ì‘ ê³¼ì •(WAS + DispatcherServlet)

---

### was ì‹¤í–‰ (ì„œë²„ ì‹¤í–‰)

- Tomcat ê°™ì€ WASê°€ ì‹¤í–‰ë˜ë©´ì„œ ì›¹ ì»¨í…Œì´ë„ˆì˜ ServletContextë¥¼ ì´ˆê¸°í™”
- web.xml ë˜ëŠ” Spring ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì½ì–´ DispatcherServlet ìƒì„±

### Dispatcher ì´ˆê¸°í™”   

- DispatcherServletì´ ApplicationContext(IOC ì»¨í…Œì´ë„ˆ)ë¥¼ ìƒì„±
- @Component, @Service, @Repository, @Controller ê°™ì€ ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìº”í•´ì„œ ë¹ˆìœ¼ë¡œ ë“±ë¡
- HandlerMapping, ViewResolver ë“±ì˜ ì„¤ì •ë„ í•¨ê»˜ ì´ˆê¸°í™”

### ì‚¬ìš©ìì˜ ìš”ì²­ ì²˜ë¦¬

- ì‚¬ìš©ìê°€ HTTP ìš”ì²­ì„ ë³´ë‚´ë©´ WASê°€ DispatcherServletìœ¼ë¡œ ì „ë‹¬
- DispatcherServletì´ HandlerMappingì„ ì‚¬ìš©í•´ ì ì ˆí•œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ìš”ì²­ ì „ë‹¬
- ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” Service â†’ Repositoryë¥¼ í˜¸ì¶œí•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰

### ì‘ë‹µ ì²˜ë¦¬ ë° ë°˜í™˜

- ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°˜í™˜
- ìµœì¢… ì‘ë‹µì„ WASì— ì „ë‹¬ â†’ WASê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µ ë°˜í™˜

## ì•„í‚¤í…ì²˜

---
```json
+--------------------------------------------------+
|             Web Application Server (WAS)         |
|               (ì˜ˆ: Tomcat, Jetty)                 |
|                                                  |
|  +------------------------------------------+    |
|  |           ServletContext                 |    |  (WAS í™˜ê²½ ì •ë³´)
|  |       (ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ ì €ì¥)              |    |
|  +------------------------------------------+    |
|                         â¬‡ (ì°¸ì¡°)                  |
|  +------------------------------------------+    |
|  |    DispatcherServlet (Front Controller)  |    |
|  |  - HTTP ìš”ì²­ì„ ë°›ì•„ Spring ì²˜ë¦¬ íë¦„ ì‹œì‘      |    |
|  |  - WebApplicationContext ê´€ë¦¬             |    |
|  +------------------------------------------+    |
|                         â¬‡ (ì°¸ì¡°)                  |
|  +------------------------------------------+    |
|  |          WebApplicationContext           |    |  (Spring ì»¨í…Œì´ë„ˆ)
|  |  - Spring ë¹ˆ(Bean) ì €ì¥ì†Œ                  |    |
|  |  - HandlerMapping, ViewResolver ê´€ë¦¬      |    |
|  +------------------------------------------+    |
|                         â¬‡ (DI, ì˜ì¡´ì„± ì£¼ì…)        |
|  +------------------------------------------+    |
|  |   ontroller / Service / Repository       |    |
|  |  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰                         |    |
|  |  - ë°ì´í„° ì¡°íšŒ ë° ì²˜ë¦¬                        |    |
|  +------------------------------------------+    |
|                         â¬‡ (DB ì ‘ê·¼)               |
|  +------------------------------------------+    |
|  |         Database (MySQL, PostgreSQL)     |    |
|  +------------------------------------------+    |
+--------------------------------------------------+

```
## ê¶ê¸ˆì ğŸ¤” ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” ë‚´ì¥í†°ìº£ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì•„í‚¤í…ì²˜ ìƒ WASê°€ ìƒìœ„ì— ìˆëŠ”ë°, ì–´ë–»ê²Œ ë‚´ì¥ í†°ìº£ì„ ì‚¬ìš©í•˜ëŠ” ê±¸ê¹Œ?

---

### ì „í†µì ì¸ WAS ì•„í‚¤í…ì²˜

1. WASì™€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ
  - ì „í†µì ì¸ ë°©ì‹ì—ëŠ” WASê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ê·¸ ìœ„ì— ì„œë¸”ë¦¿ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê²Œ ëœë‹¤.
  - ì• í”Œë¦¬ì¼€ì´ì…˜ì€ WASì— ë°°í¬ë˜ì–´ ì‹¤í–‰ë˜ë©°, WASê°€ ì„œë¸”ë¦¿ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.
2. êµ¬ì„±
  - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(í†°ìº£ ë“±) â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ â†’ ì™¸ë¶€ WASì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¤í–‰

### ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ë‚´ì¥ í†°ìº£ ì•„í‚¤í…ì²˜

ìŠ¤í”„ë§ ë¶€íŠ¸ ë‚´ì¥ í†°ì¼“ì„ ì‚¬ìš©í•˜ì—¬, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ í•œë‹¤.

ì¦‰, ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ë•Œ í†°ìº£ ì„œë²„ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì— í¬í•¨ë˜ì–´ ë³„ë„ì˜ WASì— ë°°í¬í•  í•„ìš” ì—†ì´, ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ê°€ ì›¹ ì„œë²„ ì—­í• ì„ í•˜ê²Œ ëœë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ë‚´ì¥ ì„œë²„ ì‚¬ìš©ì€ ì•„í‚¤í…ì²˜ìƒ WASë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì¥í˜•ìœ¼ë¡œ ëŒì–´ë“¤ì´ëŠ” ë°©ì‹ì´ë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìëŠ” ì„œë²„ í™˜ê²½ì„ ì„¤ì •í•˜ê±°ë‚˜ ë³„ë„ì˜ ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ì¤„ì´ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.
### ì•„í‚¤í…ì²˜

```java
+------------------+               +---------------------------+               +--------------------------+
| Application      | ----->       | Spring Boot Application    | ----->       | Tomcat Embedded Server   |
| (SpringApplication.run()) |      | Context                   |               | (TomcatWebServer)        |
+------------------+               +---------------------------+               +--------------------------+
                                                      |                              |
                                                      v                              v
                                                 +-------------------------------+
                                                 | DispatcherServlet              |
                                                 | (HTTP Request Mapping)         |
                                                 +-------------------------------+
                                                            |
                                                            v
                                                +-----------------------------+
                                                | Controller, Service, etc.    |
                                                | (Business Logic)             |
                                                +-----------------------------+
                                                            |
                                                            v
                                                +-----------------------------+
                                                | Response                    |
                                                | (Return to User)             |
                                                +-----------------------------+

```
ìœ„ì˜ ì•„í‚¤í…ì²˜ë¥¼ ë³´ë©´ ì´ìƒí•œì ì´ ëˆˆì— ë„ì¸ë‹¤.

ì›ë˜ ì „í†µì ì¸ WAS ë°©ì‹ì—ì„œëŠ” WASë¥¼ êµ¬ë™í•˜ë©´ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë˜ê³  DispatcherServletì„ ë§Œë“  í›„, DispatcherServletì´ ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê²Œ ëœë‹¤. í•˜ì§€ë§Œ ìœ„ì˜ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ìŠ¤í”„ë§ë¶€íŠ¸ê°€ í†°ìº£ì„ ë‚´ì¥í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ ê·¸ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ê°€ ë¨¼ì € ë§Œë“¤ì–´ì§€ê³ , í†°ìº£ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§€ë©´ì„œ ê·¸ ë•Œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.
### ì½”ë“œë¡œ í™•ì¸í•˜ê¸°

- ì•„ë˜ ì½”ë“œëŠ” ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ ì²˜ìŒ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” main ë©”ì„œë“œì´ë‹¤.
- SpringApplication.run()ì˜ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì

```java
@SpringBootApplication
public class JpashopApplication {

	public static void main(String[] args) {
		ApplicationContext ctx = SpringApplication.run(JpashopApplication.class, args);

		String[] beanNames = ctx.getBeanDefinitionNames();
		Arrays.sort(beanNames);

		Arrays.stream(beanNames).forEach(System.out::println);
	}

}

```
- run() ë©”ì„œë“œ
  - 1ë²ˆ : SpringApplication.run() ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë©´ IOC ì»¨í…Œì´ë„ˆì¸ ApplicationContextë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™”í•˜ì—¬ ë°˜í™˜í•˜ê²Œ ëœë‹¤.
  - 2ë²ˆ : ApplicationContextë¥¼ Refresh í•˜ëŠ” ê³¼ì •ì—ì„œ WebServerê°€ ìƒì„±ë˜ê³  ì‹¤í–‰ëœë‹¤.
    - WebSereverê°€ ìƒì„±ë˜ê³  ì‹¤í–‰ë˜ëŠ” ê³³ì„ í™•ì¸í•´ë³´ê¸° ìœ„í•´ í•´ë‹¹ ì½”ë“œë¥¼ íƒ€ê³  ë“¤ì–´ê°€ê²Œ ë˜ë©´ ì¶”ìƒí™” ë˜ì–´ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```java
public ConfigurableApplicationContext run(String... args) {
				// ...
        try {
            ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);
            ConfigurableEnvironment environment = this.prepareEnvironment(listeners, bootstrapContext, applicationArguments);
            this.configureIgnoreBeanInfo(environment);
            Banner printedBanner = this.printBanner(environment);
            
            // 1. ApplicationContext ìƒì„±
            context = this.createApplicationContext();
            context.setApplicationStartup(this.applicationStartup);
            this.prepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);
            
            // 2. ApplicationContext Refresh ê³¼ì •ì—ì„œ WebServer ìƒì„±
            this.refreshContext(context);
            this.afterRefresh(context, applicationArguments);
            // ...
    }
```

```java
private void refreshContext(ConfigurableApplicationContext context) {
        if (this.registerShutdownHook) {
            shutdownHook.registerApplicationContext(context);
        }

        this.refresh(context); // íƒ€ê³  ë“¤ì–´ê°€ê¸°
    }
```

```java
    // íƒ€ê³  ë“¤ì–´ê°„ ì½”ë“œ
    protected void refresh(ConfigurableApplicationContext applicationContext) {
        applicationContext.refresh(); // ë‹¤ì‹œ íƒ€ê³  ë“¤ì–´ê°€ê¸°
    }
```

```java
  void refresh() throws BeansException, IllegalStateException; // ì¶”ìƒí™” ë˜ì–´ìˆëŠ” ì½”ë“œ
```

- ê·¸ë˜ì„œ ë””ë²„ê¹…ì„ ê±¸ì–´ í™•ì¸í•´ë³´ë‹ˆ `AnnotationConfigServletWebServerApplicationContext`ì„ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ì œ í•´ë‹¹ í´ë˜ìŠ¤ì— ë“¤ì–´ê°€ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì.
![ìŠ¤í”„ë§ë¶€íŠ¸ í†°ìº£ ë‚´ë¶€ ì½”ë“œ](/assets/img/ìŠ¤í”„ë§ë¶€íŠ¸ í†°ìº£ ë‚´ë¶€ ì½”ë“œ.png)
- í•´ë‹¹ ì½”ë“œ ë‚´ì—ì„œ í†°ìº£ ì„œë²„ê°€ ì‹¤í–‰ëœë‹¤ ìì„¸íˆ ë“¤ì—¬ë´ë³´ì.

    ```java
      public final void refresh() throws BeansException, IllegalStateException {
            try {
                super.refresh(); // ì´ë•Œ í†°ìº£ ì„œë²„ ì‹¤í–‰
            } catch (RuntimeException var3) {
                RuntimeException ex = var3;
                WebServer webServer = this.webServer;
                if (webServer != null) { 
                    webServer.stop(); // // ì›¹ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ë©´ ë©ˆì¶¤
                }
    
                throw ex;
            }
        }
    ```

- super.refresh()ë¥¼ í†µí•´ ë“¤ì–´ê°€ë³´ë‹ˆ `AbstractApplicationContext`ì˜ refresh() í•¨ìˆ˜ê°€ ë‚˜ì˜¨ë‹¤.

```java
    public void refresh() throws BeansException, IllegalStateException {
        synchronized(this.startupShutdownMonitor) {
            StartupStep contextRefresh = this.applicationStartup.start("spring.context.refresh");
            this.prepareRefresh();
            ConfigurableListableBeanFactory beanFactory = this.obtainFreshBeanFactory();
            this.prepareBeanFactory(beanFactory);

            try {
                this.postProcessBeanFactory(beanFactory);
                StartupStep beanPostProcess = this.applicationStartup.start("spring.context.beans.post-process");
                this.invokeBeanFactoryPostProcessors(beanFactory);
                this.registerBeanPostProcessors(beanFactory);
                beanPostProcess.end();
                this.initMessageSource();
                this.initApplicationEventMulticaster();
                
                // 1. í•´ë‹¹ ì½”ë“œì—ì„œ í†°ìº£ì„ ì‹¤í–‰í•œë‹¤.
                this.onRefresh();

                this.registerListeners();
                this.finishBeanFactoryInitialization(beanFactory);
                this.finishRefresh();
            } catch (BeansException var10) {
                BeansException ex = var10;
                if (this.logger.isWarnEnabled()) {
                    this.logger.warn("Exception encountered during context initialization - cancelling refresh attempt: " + ex);
                }

                this.destroyBeans();
                this.cancelRefresh(ex);
                throw ex;
            } finally {
                this.resetCommonCaches();
                contextRefresh.end();
            }

        }
    }

```

- this.onRefresh()ì—ì„œ í†°ìº£ì„ ì‹¤í–‰í•œë‹¤. ê·¸ëŸ°ë° í•´ë‹¹ ì½”ë“œë¡œ ë“¤ì–´ê°€ë³´ë‹ˆ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë‚˜ì™€ìˆë‹¤.
  - thisë¥¼ í™•ì¸í•´ë³´ë‹ˆ `AnnotationConfigServletWebServerApplicationContext` ë¥¼ êµ¬í˜„ì²´ë¡œ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤. ê·¸ëŸ°ë° í•´ë‹¹ êµ¬í˜„ì²´ì—ëŠ” onRefresh() ë©”ì„œë“œê°€ ì•„ì˜ˆ ì—†ë‹¤.

    ```java
     protected void onRefresh() throws BeansException {}
    ```

  - ì—¥ ì´ëŸ´ìˆ˜ê°€ ìˆë‚˜ ìƒê°í•˜ë‹¤ ë¶€ëª¨ í´ë˜ìŠ¤ì— ìˆê² ë‹¤ ì‹¶ì–´ í™•ì¸í•´ë³´ë‹ˆ ì—­ì‹œ ìˆì—ˆë‹¤.
- `ServletWebServerApplicationContext` ì˜ onRefresh() ì½”ë“œ í™•ì¸

    ```java
      protected void onRefresh() {
            super.onRefresh();
    
            try {
                this.createWebServer();
            } catch (Throwable var2) {
                Throwable ex = var2;
                throw new ApplicationContextException("Unable to start web server", ex);
            }
        }
    ```

- this.createWebServer() ì½”ë“œ í™•ì¸

    ```java
    private void createWebServer() {
            WebServer webServer = this.webServer;
            ServletContext servletContext = this.getServletContext();
            // ì›¹ì„œë²„ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆëŠ” servletContextê°€ ì—†ìœ¼ë©´ ì›¹ ì„œë²„ ìƒì„±
            if (webServer == null && servletContext == null) {
                StartupStep createWebServer = this.getApplicationStartup().start("spring.boot.webserver.create");
                
                // ServeltWebServerFactoryëŠ” ë‚´ì¥ ì›¹ ì„œë²„ë¥¼ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ ì¸í„°í˜ì´ìŠ¤
                ServletWebServerFactory factory = this.getWebServerFactory();
                
                createWebServer.tag("factory", factory.getClass().toString());
                
                // factoryëŠ” TomcatServletWebServerFactoryì´ë‹¤.
    						this.webServer = factory.getWebServer(new ServletContextInitializer[]{this.getSelfInitializer()});
    
                createWebServer.end();
                this.getBeanFactory().registerSingleton("webServerGracefulShutdown", new WebServerGracefulShutdownLifecycle(this.webServer));
                this.getBeanFactory().registerSingleton("webServerStartStop", new WebServerStartStopLifecycle(this, this.webServer));
            } else if (servletContext != null) {
                try {
                    this.getSelfInitializer().onStartup(servletContext);
                } catch (ServletException var5) {
                    ServletException ex = var5;
                    throw new ApplicationContextException("Cannot initialize servlet context", ex);
                }
            }
    
            this.initPropertySources();
        }
    ```

  - ì½”ë“œë¥¼ í™•ì¸í•´ë³´ë©´ ì›¹ì„œë²„ì™€ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë©´ ì›¹ ì„œë²„ë¥¼ ìƒì„±í•˜ê²Œ ëœë‹¤.
- `TomcatServletWebServerFactory`ì˜ getWebServer() ì½”ë“œ í™•ì¸

```java
public WebServer getWebServer(ServletContextInitializer... initializers) {
        if (this.disableMBeanRegistry) {
            Registry.disableRegistry();
        }
				
				// í†°ìº£ ê°ì²´ ìƒì„±
        Tomcat tomcat = new Tomcat();
        
        // í†°ìº£ ê¸°ë³¸ ë””ë ‰í† ë¦¬ ì„¤ì •
        // ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼, ë¡œê·¸ íŒŒì¼ ë“± ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©
        File baseDir = this.baseDirectory != null ? this.baseDirectory : this.createTempDir("tomcat");
        
        tomcat.setBaseDir(baseDir.getAbsolutePath());
        Iterator var4 = this.serverLifecycleListeners.iterator();

        while(var4.hasNext()) {
            LifecycleListener listener = (LifecycleListener)var4.next();
            tomcat.getServer().addLifecycleListener(listener);
        }
	
				// ì»¤ë„¥í„° ìƒì„±
				// ì»¤ë„¥í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ìˆ˜ì‹ í•˜ê³  í†°ì¼“ ì—”ì§„ì— ì „ë‹¬í•˜ëŠ” ì—­í• 
        Connector connector = new Connector(this.protocol);
        connector.setThrowOnFailure(true);
        tomcat.getService().addConnector(connector);
        
        // í¬íŠ¸ë²ˆí˜¸ ë“±ë“± ì •ì˜
        this.customizeConnector(connector);
        
        tomcat.setConnector(connector);
        tomcat.getHost().setAutoDeploy(false);
        this.configureEngine(tomcat.getEngine());
        Iterator var8 = this.additionalTomcatConnectors.iterator();

        while(var8.hasNext()) {
            Connector additionalConnector = (Connector)var8.next();
            tomcat.getService().addConnector(additionalConnector);
        }
        
				// ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡
				// ì£¼ì˜í• ì ìœ¼ë¡œ í†°ìº£ì„ ë“±ë¡í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, í†°ìº£ì€ ì´ë¯¸ ì‹œì‘ì´ ë˜ì–´ìˆê³ , í•„í„°, ë¦¬ìŠ¤ë„ˆ ë“±ë“±ì„ ë“±ë¡í•˜ëŠ”ê±°ì„
        this.prepareContext(tomcat.getHost(), initializers);
        return this.getTomcatWebServer(tomcat);
    }
```
## ì •í™•í•œ ë™ì‘ ìˆœì„œ [ìŠ¤í”„ë§] (ë§¤ìš° ì¤‘ìš”!!!)

---

1. WAS ì‹¤í–‰
2. WASê°€ ì‹¤í–‰ë˜ë©´, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•˜ê³  ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì›¹ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±
3. ì›¹ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë  ë•Œ web.xml íŒŒì¼ì„ ì½ê³  í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ìƒì„± ë° ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ìƒì„±
   - ì›¹ ì»¨í…Œì´ë„ˆëŠ” web.xml íŒŒì¼ì„ ì½ì–´ì„œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ì„¤ì • ì •ë³´ë¥¼ íŒŒì‹±
   - ì›¹ ì»¨í…Œì´ë„ˆëŠ” web.xml íŒŒì¼ì— ì •ì˜ëœ í•„í„°, ë¦¬ìŠ¤ë„ˆ ë“±ì„ ìƒì„±í•˜ê³  ì´ˆê¸°í™”
   - ì›¹ ì»¨í…Œì´ë„ˆëŠ” ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±
   - ì›¹ ì»¨í…Œì´ë„ˆëŠ” ì„œë¸”ë¦¿ ì»µí…Œì´ë„ˆì—ê²Œ web.xml íŒŒì¼ì— ì •ì˜ëœ ì„œë¸”ë¦¿ë“¤ì„ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ë„ë¡ ì§€ì‹œ
4. ìƒì„±ëœ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ì›¹ ì»¨í…Œì´ë„ˆì—ê²Œ ë°›ì€ ì§€ì‹œì— ë”°ë¼ ì„œë¸”ë¦¿ë“¤ì„ ìƒì„±í•˜ê³  ì´ˆê¸°í™”
5. ContextLoaderListener ìƒì„± ë° ë£¨íŠ¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ìƒì„± (ì„ íƒì‚¬í•­)
   - ì›¹ ì»¨í…Œì´ë„ˆëŠ” web.xml íŒŒì¼ì— ContextLoaderListenerê°€ ì •ì˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - ì •ì˜ë˜ì–´ ìˆìœ¼ë©´, ContextLoaderListnerë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™”í•œë‹¤.
   - ë£¨íŠ¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ ê³µìœ ë˜ëŠ” ë¹ˆë“¤ì„ ê´€ë¦¬í•œë‹¤. (ë°ì´í„°ì†ŒìŠ¤, íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì € ë“±)
6. DispatcherServlet ìƒì„± ë° ì´ˆê¸°í™”
   - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” web.xml íŒŒì¼ì— ì •ì˜ëœ DispatcherServlet ì„ ìƒì„±í•œë‹¤.
   - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” DispatcherServletì˜ init() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ DispatcherServletì„ ì´ˆê¸°í™”í•œë‹¤.
7. DispatcherServletì˜ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸(ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì˜ ì¢…ë¥˜) ìƒì„±
   - DispatcherServletì˜ init() ë©”ì„œë“œëŠ” DispatcherServlet ìì‹ ë§Œì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
   - DipatcherServlet ì»¨í…ìŠ¤íŠ¸ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬, ë·° ë¦¬ì¡¸ë²„ ë“± í•´ë‹¹ DispatcherServletì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë¹ˆë“¤ì„ ê´€ë¦¬í•œë‹¤.
8. ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸(ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ)ëŠ” ìŠ¤í”„ë§ ì„¤ì • íŒŒì¼ì„ ë¡œë”© ë° ë¹ˆì„ ìƒì„±í•œë‹¤.
   - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ(ë£¨íŠ¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸)ëŠ” ìŠ¤í”„ë§ ì„¤ì • íŒŒì¼(applicationContext.xml, servlet-context.xml)ì„ ë¡œë”©í•œë‹¤.
   - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ìŠ¤í”„ë§ ì„¤ì • íŒŒì¼ì— ì •ì˜ëœ ë¹ˆë“¤ì„ ìƒì„±í•˜ê³  ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ ë¹ˆë“¤ì„ ì—°ê²°í•œë‹¤.
