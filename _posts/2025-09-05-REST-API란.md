---
title: REST APIë€?
date: 2025-09-05 22:10:21 +0900
categories: [REST, JAVA]
tags: [rest, api]     # TAG ì´ë¦„ì€ í•­ìƒ ì†Œë¬¸ìì—¬ì•¼ í•©ë‹ˆë‹¤.
---

## REST API ì œëŒ€ë¡œ ì´í•´í•˜ê¸° ğŸ’ª

### REST APIë€?
REST APIëŠ” Representational State Transferì˜ ì•½ìë¡œ, ìì›(Resource) ì¤‘ì‹¬ì˜ API ì„¤ê³„ ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤.
ì‰½ê²Œ ë§í•´, ì„œë²„ì˜ ë°ì´í„°(ìì›)ì— ì ‘ê·¼í•˜ëŠ” ê·œì¹™ì„ ì •í•´ë‘” í‘œì¤€ì´ë‹¤.

### ğŸ¥ RESTì˜ í•µì‹¬ ì›ì¹™ 
1. í´ë¼ì´ì–¸íŠ¸ - ì„œë²„ êµ¬ì¡° (Client-Server Architecture)
   - í´ë¼ì´ì–¸íŠ¸(í”„ë¡ íŠ¸ì—”ë“œ)ëŠ” UI/UXë¥¼ ë‹´ë‹¹í•˜ê³ , ì„œë²„(ë°±ì—”ë“œ)ëŠ” ë°ì´í„° ì €ì¥ ë° ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤.
   - ì´ë ‡ê²Œ ì—­í• ì´ ë¶„ë¦¬ë˜ì–´ì•¼ ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì„±ì´ ì‰½ë‹¤.
2. ë¬´ìƒíƒœì„± (Stateless)
   - ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœ(Session)ë¥¼ ë³´ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
   - ìš”ì²­ë§ˆë‹¤ í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ì•„ì„œ ë³´ë‚´ì•¼ í•œë‹¤.
3. ìºì‹œ ê°€ëŠ¥ì„± (Cacheable)
   - GET ìš”ì²­ ê°™ì€ ê²½ìš°ëŠ” ìºì‹œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.
   - ì˜ˆë¥¼ ë“¤ì–´, ì •ì  ì´ë¯¸ì§€ë‚˜ ìì£¼ ì¡°íšŒí•˜ëŠ” ëª©ë¡ APIëŠ” ìºì‹±í•˜ë©´ ì„±ëŠ¥ì´ ì¢‹ì•„ì§„ë‹¤.
4. ê³„ì¸µí™” (Layered System)
   - í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ê°€ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ”ì§€, ë‹¤ë¥¸ ì„œë²„ë¥¼ ê±°ì¹˜ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì—†ë‹¤.
   - ë³´ì•ˆ, ë¡œë“œë°¸ëŸ°ì‹±, í”„ë¡ì‹œ ì„œë²„ ë“±ì„ ììœ ë¡­ê²Œ ë¼ì›Œ ë„£ì„ ìˆ˜ ìˆë‹¤.
5. ê· ì¼í•œ ì¸í„°í˜ì´ìŠ¤ (Uniform Interface)
   - ìš”ì²­ ë°©ë²•ì´ ì¼ê´€ë˜ì–´ì•¼ í•œë‹¤.
   - ì˜ˆ: `/users`ì—ì„œ GETì€ ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ, POSTëŠ” ì‚¬ìš©ì ìƒì„± -> ì§ê´€ì ìœ¼ë¡œ ì´í•´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

### âœ¨ HTTP ë©”ì„œë“œ í™œìš©
REST APIëŠ” HTTP ë©”ì„œë“œë¡œ í–‰ìœ„ë¥¼ í‘œí˜„í•œë‹¤.
- **GET** -> ìì› ì¡°íšŒ
  - ì˜ˆ: `GET /users` -> ì‚¬ìš©ì ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
- **POST** -> ìì› ìƒì„±
  - ì˜ˆ: `POST /users` -> ìƒˆë¡œìš´ ì‚¬ìš©ì ë“±ë¡
- **PUT** -> ìì› ì „ì²´ ìˆ˜ì • (ë®ì–´ì“°ê¸°
  - ì˜ˆ: `PUT /users/1` -> IDê°€ 1ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì „ë¶€ ì—…ë°ì´íŠ¸
- **PATCH** -> ìì› ì¼ë¶€ ìˆ˜ì •
  - ì˜ˆ: `PATCH /users/1` -> IDê°€ 1ì¸ ì‚¬ìš©ì ì´ë©”ì¼ë§Œ ìˆ˜ì •
- **DELETE** -> ìì› ì‚­ì œ
  - ì˜ˆ: `DELETE /users/1` -> IDê°€ 1ì¸ ì‚¬ìš©ì ì‚­ì œ

### ğŸ¥Š ì‹¤ë¬´ì—ì„œ ì£¼ì˜í• ì  
REST APIëŠ” ì´ë¡ ë§Œ ì•Œë©´ ë˜ëŠ”ê²Œ ì•„ë‹ˆë¼, ì‹¤ë¬´ì—ì„œ ì§€ì¼œì•¼ í•  ê·œì¹™ì´ ìˆë‹¤.

**1. URL ì„¤ê³„**
- ëª…ì‚¬ ì‚¬ìš©: ë™ì‚¬ê°€ ì•„ë‹ˆë¼ ìì›(ëª…ì‚¬) ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤.
  - ì˜ëª»ëœ ì˜ˆ: `/getUser`
  - ì˜¬ë°”ë¥¸ ì˜ˆ: `/users`
- ê³„ì¸µ êµ¬ì¡° ë°˜ì˜: ê´€ê³„ê°€ ìˆìœ¼ë©´ ê³„ì¸µ êµ¬ì¡°ë¡œ í‘œí˜„í•œë‹¤.
  - ì˜ˆ: `/users/1/orders` -> IDê°€ 1ì¸ ì‚¬ìš©ìì˜ ì£¼ë¬¸ ëª©ë¡
- ë³µìˆ˜í˜• ì‚¬ìš©: ì¼ë°˜ì ìœ¼ë¡œ ì»¬ë ‰ì…˜ ìì›ì€ ë³µìˆ˜í˜•ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
  - ì˜ˆ: `/users` (O), `/user` (X)

**2. ì‘ë‹µ ì½”ë“œ (Status Code)**
- í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìƒí™©ì„ ì •í™•íˆ ì•Œë ¤ì£¼ë ¤ë©´ HTTP ìƒíƒœ ì½”ë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤.
  - 200 OK: ìš”ì²­ ì„±ê³µ (ì¡°íšŒ, ìˆ˜ì • ì„±ê³µ ì‹œ)
  - 201 Created: ìƒˆë¡œìš´ ìì› ìƒì„± ì„±ê³µ (POST)
  - 400 Bad Request: ìš”ì²­ì´ ì˜ëª»ë¨ (íŒŒë¼ë¯¸í„° ì˜¤ë¥˜ ë“±)
  - 404 Not Found: ìš”ì²­í•œ ìì›ì´ ì—†ìŒ
  - 500 Internal Server Error: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜

**3. ë²„ì „ ê´€ë¦¬**
APIëŠ” ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ë³€ê²½ ë° í™•ì¥ë  ìˆ˜ ìˆë‹¤.
ê·¸ë˜ì„œ ë³´í†µ ë²„ì „ì„ ëª…ì‹œí•œë‹¤.
- ì˜ˆ: `/api/v1/users`, `/api/v2/users`
- ì´ë ‡ê²Œ í•´ë‘ë©´ êµ¬ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë„ ì•ˆì „í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

### ì½”ë“œ ì˜ˆì‹œ
ì‚¬ìš©ì(User) ì—”í‹°í‹°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë“±ë¡, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œë¥¼ êµ¬í˜„í•˜ëŠ” ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ë³´ì.
```java
@Entity
@Getter @Setter
@Table(name = "users")
public class User{
  
  @Id
  @GeneratedValue(strategy = GenerationType.IDENTIFY)
  private Long id;
  
  private String username;
  private String email;
}
```
```java
@RestController
@RequiredArgsConstructor
@RequestMapping("/api/v1/users") // ë²„ì „ ê´€ë¦¬ í¬í•¨
public class UserController{
  private final UserService userService;
  
  // CREATE
  @PostMapping
  public ResponseEntity<UserResponseDto> createUser(@RequestBody UserRequestDto userRequestDto){
    UserResponseDto user = userService.createUser(userRequestDto);
    return ResponseEntity.ok(user);
  }
  
  // READ
  @GetMapping
  public ResponseEntity<List<UserResponseDto>> getUsers(){
    List<UserResponseDto> users = userService.getUsers();
    return ResponseEntity.ok(users);
  }
  
  // READ (ë‹¨ì¼ ì¡°íšŒ)
  @GetMapping("/{id}")
  public ResponseEntity<UserResponseDto> getUser(@PathVariable Long id){
    User user = userService.getUser(id);
    if(user == null) throw new NotFoundUserException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    return ResponseEntity.ok(user);
  }
  
  // UPDATE
  @PatchMapping("/{id}")
  public ResponseEntity<UserResponseDto> updateUser(@PathVariable Long id, @RequestBody UserRequestDto userRequestDto){
    User updated = userService.updateUser(id, userRequestDto);
    if(update == null) throw new NotFoundUserException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    return ResponseEntity.ok(updated);
  }
  
  // DELETE
  @DeleteMapping("/{id}")
  public ResponseEntity<Void> deleteUser(@PathVariable Long id){
    userService.deleteUser(id);
    return ResponseEntity.noContent().build();
  }
}
```
