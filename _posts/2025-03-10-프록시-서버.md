---
title: 프록시 서버 🧐
date: 2025-03-10 22:23:21 +0900
categories: [NetWork]
tags: [WAS, Network]     # TAG 이름은 항상 소문자여야 합니다.
author: kunhee
---

## 프록시 서버란? 🧐

---

프록시 서버는 클라이언트와 서버 사이에서 요청을 중계하는 서버다.

즉, 클라이언트가 직접 서버에 접근하는 것이 아니라, 프록시 서버를 통해 서버에 요청하고 응답을 받는 구조다.

이런 방식은 **보안, 성능 향상, 콘텐츠 필터링, 로드 밸런싱** 등 다양한 목적을 위해 사용된다.

프록시 서버는 크게 포워드 **프록시(Forward Proxy)와 리버스 프록시(Reverse Proxy)** 로 나뉜다.

---
## 1. 포워드 프록시(Forward Proxy)

### ✅ **포워드 프록시 동작 방식**

1. 클라이언트 → 프록시 서버에 요청
2. 프록시 서버 → 외부 서버에 요청 전달
3. 외부 서버 → 프록시 서버에 응답 전달
4. 프록시 서버 → 클라이언트에 응답 전달

### ✅ **포워드 프록시 장점**

- **보안 강화**: 클라이언트의 IP 주소를 감춰 익명성을 제공 (ex: VPN, Tor)
  - 클라이언트가 직접 서버에 접속하는 것이 아니라 프록시 서버를 통해 접속
  - 외부 서버는 클라이언트의 실제 IP를 모르고 프록시 서버의 IP만 인식
- **접근 제어**: 특정 웹사이트 차단 가능 (ex: 기업 내부 네트워크에서 유튜브 차단)
  - 프록시 서버가 클라이언트 요청을 감시
  - 특정 도메인(URL), IP주소, 포트 등을 차단 규칙으로 설정 가능
- **캐싱 기능**: 자주 사용하는 데이터 저장해 성능 향상
  - 프록시 서버가 외부 서버에서 받은 응답을 저장
  - 이후 같은 요청이 오면 저장된 데이터 반환 → 서버 요청 부담 감소

### ❌ **포워드 프록시 단점**

- **속도 저하 가능**: 모든 요청을 중계하므로 네트워크 부하 증가
- **설정이 복잡함**: 클라이언트마다 프록시 설정 필요
  - 클라이언트가 직접 프록시 서버를 지정해야한다.
  - 모든 기기에 개별적으로 설정해야 하고, 설정이 없으면 프록시를 거치지 않고 직접 접속이 가능하게 된다.
  - DHCP + WPAD를 사용하면 클라이언트가 자동으로 프록시 설정을 가져오도록 할 수 있지만, 모든 기기에서 WPAD를 지원하는 건 아니라 추가 설정이 필요할 수도 있다.
  - WPAD가 뭔지 알고싶다면 여기를 클릭해주세요.

### 🎯 **포워드 프록시 사용 사례**

1. **기업 및 학교 네트워크**: 직원이나 학생이 특정 사이트를 이용하지 못하도록 차단
2. **VPN 서비스**: 사용자의 IP를 숨기고 우회 접속 가능
3. **웹 캐시 서버**: 여러 사용자가 동일한 리소스를 요청하면 캐시된 데이터를 제공해 속도 향상

![포워드프록시](/assets/img/포워드%20프록시.png)

---

## 포워드 프록시 실무 기업 사례

포워드 프록시는 내부 직원들이 인터넷에 접근할 때, 이를 통제하고 보안을 강화하는데 사용된다.

### ✅ (1) 기업 내부 인터넷 보안 - 금융권 & 대기업 사례

🔹 **사례:**

- 은행, 증권사, 공공기관, 대기업 IT 부서
- 직원들이 **특정 웹사이트(유튜브, SNS, 토렌트 등)에 접속하지 못하도록** 포워드 프록시를 배치
- IP 주소를 숨기고, **외부 사이트 접속 로그를 감시**하여 정보 유출 방지

🔹 **사용 기술:**

- **Squid Proxy, Blue Coat ProxySG, Zscaler** 등의 보안 프록시 솔루션 사용

🔹 **실제 적용 예시:**

- 은행 내부 직원이 외부 웹사이트에 접근할 때 **모든 트래픽이 프록시 서버를 거치도록 설정**
- **규정 위반 사이트(도박, 음란물, SNS 등) 차단**
- **DHCP + WPAD**로 자동 프록시 설정 → 직원들이 따로 설정할 필요 없음

🔹 **왜 포워드 프록시를 사용?**

✅ 기업 내부에서 **정보 유출 방지 및 트래픽 감시**

✅ 직원들의 인터넷 사용 정책을 강제

✅ 보안 감사를 위해 **로그 저장**

### ✅ (2) VPN & 익명성 보호 - 글로벌 IT 기업 & 해외 사용자

🔹 **사례:**

- **Google, Facebook, 넷플릭스** 등의 글로벌 서비스
- 중국, 러시아, 이란 등에서 인터넷 검열을 우회하기 위해 **VPN을 이용한 포워드 프록시 사용**

🔹 **사용 기술:**

- **Tor, Shadowsocks, OpenVPN**
- 개인용: **NordVPN, ExpressVPN, Mullvad**

🔹 **실제 적용 예시:**

- **중국 내 사용자**가 VPN을 이용해 **구글, 유튜브, 넷플릭스 차단 우회**
- **기자, 활동가**가 정부 감시를 피해 안전하게 인터넷 사용

🔹 **왜 포워드 프록시를 사용?**

✅ **검열을 우회**하고 자유롭게 인터넷 접속

✅ **IP 주소를 숨겨 개인정보 보호**

✅ **VPN 기반으로 글로벌 서비스 접근 가능**

---
## **2. 리버스 프록시(Reverse Proxy)**

리버스 프록시는 **클라이언트 요청을 받아 적절한 내부 서버로 전달하는 역할**을 한다.

즉, 사용자는 원래 서버와 직접 통신하는 것이 아니라, 리버스 프록시를 통해 서버에 접속하게 된다.

### ✅ **리버스 프록시 동작 방식**

1. 클라이언트 → 리버스 프록시에 요청
2. 리버스 프록시 → 내부 서버로 요청 전달
3. 내부 서버 → 리버스 프록시에 응답
4. 리버스 프록시 → 클라이언트에 응답 전달

### ✅ **리버스 프록시 장점**

- **보안 강화**: 내부 서버의 IP를 숨겨 공격을 방어
  - 클라이언트는 직접 내부 서버에 접근하지 못하고, 항상 리버스 프록시를 통해서만 요청을 보냄
  - 즉, 실제 웹 서버의 IP가 외부에 노출되지 않음.
  - 공격자가 특정 웹 서버를 공격하려 해도, 프록시 서버만 보이므로 실제 서버를 보호 가능
- **로드 밸런싱**: 여러 서버에 요청을 분산해 성능 개선
- **SSL 오프로딩**: SSL 암호화 작업을 리버스 프록시가 처리해 서버 부하 감소
  - HTTPS(SSl/TLS)는 **암호화·복호화 작업이 필요하므로 CPU 사용량이 높음**
  - 리버스 프록시가 이 작업을 대신 처리(SSL 오프로딩)하고 **내부 서버는 일반 HTTP 요청을 처리하도록 하면 서버 부담이 줄어든다.**

### ❌ **리버스 프록시 단점**

- **단일 장애점(Single Point of Failure, SPOF)**: 프록시 서버가 다운되면 전체 서비스 마비
- **구성 복잡성**: 로드 밸런싱, 캐싱, SSL 설정 등 추가적인 관리 필요

### 🎯 **리버스 프록시 사용 사례**

1. **로드 밸런서**: 여러 웹 서버에 부하를 분산 (ex: Nginx, HAProxy)
2. **웹 애플리케이션 방화벽(WAF)**: 보안 위협을 차단 (ex: AWS WAF)
3. **CDN(Content Delivery Network)**: 전 세계에 분산된 서버에서 캐시된 콘텐츠 제공

![리버스프록시](/assets/img/리버스%20프록시.png)

---

## 리버스 프록시 실무 기업 사례

리버스 프록시는 외부 사용자들의 요청을 내부 서버로 안전하게 전달하고, 부하를 분산하는데 사용된다.

### **✅ (1) 글로벌 서비스 트래픽 분산 - 넷플릭스 & 유튜브 사례**

🔹 **사례:**

- **넷플릭스(Netflix), 유튜브(YouTube)** 같은 글로벌 콘텐츠 서비스
- **Nginx, HAProxy, Cloudflare** 기반 리버스 프록시 사용
- 사용자의 요청을 가장 가까운 CDN 서버로 라우팅하여 **지연시간 최소화 & 부하 분산**

🔹 **사용 기술:**

- **Nginx + Load Balancer** (넷플릭스)
- **Cloudflare + Anycast** (유튜브)

🔹 **실제 적용 예시:**

- 한국에서 넷플릭스를 볼 때, **미국 서버가 아니라 한국에 있는 캐시 서버에서 콘텐츠 제공**
- 사용자가 증가해도 **리버스 프록시가 여러 서버로 부하를 자동 분산**

🔹 **왜 리버스 프록시를 사용?**

✅ **로드 밸런싱을 통해 서버 부하 최소화**

✅ **CDN을 활용한 빠른 응답 속도 제공**

✅ **DDoS 공격 방어 및 보안 강화**

### **✅ (2) 보안 강화 및 SSL 오프로딩 - 금융 & 이커머스 사례**

🔹 **사례:**

- 카카오페이, 네이버페이, 페이팔(PayPal) 등 금융 서비스
- 사용자의 로그인 및 결제 요청이 **리버스 프록시(Nginx, AWS ALB)**를 거쳐 **내부 서버**로 전달됨
- SSL/TLS 암호화 작업을 프록시에서 처리해 **백엔드 서버 부담을 줄임**

🔹 **사용 기술:**

- **AWS Application Load Balancer(ALB), Nginx, HAProxy**
- **Cloudflare & Akamai SSL Offloading**

🔹 **실제 적용 예시:**

- 사용자가 **페이팔 결제 요청을 보낼 때,리버스 프록시가 SSL 복호화 후 내부 결제 서버로 전달**
- 네이버페이가 **백엔드 서버 IP를 숨기고 프록시를 통해 요청을 필터링**

🔹 **왜 리버스 프록시를 사용?**

✅ **SSL 암호화 부하 감소 (SSL 오프로딩)**

✅ **내부 결제 서버 IP를 숨겨 보안 강화**

✅ **DDoS 공격 방어 & 악성 요청 차단**

